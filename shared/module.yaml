product:
  type: lib
  platforms: [ jvm, linuxArm64, linuxX64, macosArm64, mingwX64 ]

aliases:
  nonJvm: [ linuxArm64, linuxX64, macosArm64, mingwX64 ]

apply:
  - common.module-template.yaml

dependencies:
  - bom: $libs.kotlin.bom
  - bom: $libs.kotlinx.coroutines.bom
  - bom: $libs.kotlinx.serialization.bom
  - bom: $libs.ktor.bom
  - bom: $libs.kotlin.wrappers.bom
  - $libs.kotlinx.coroutines.core: exported
  - $libs.kotlinx.datetime: exported
  - $libs.kotlinx.io.core: exported
  - $libs.kotlinx.serialization.json: exported
  - $libs.kotlinx.serialization.json.io: exported
  - $libs.kotlin.retry: exported
  - $libs.kotlin.logging: exported
  - $libs.ktor.client.core: exported
  - $libs.ktor.client.cio: exported
  - $libs.ktor.client.content.negotiation: exported
  - $libs.ktor.client.encoding: exported
  - $libs.ktor.client.logging: exported
  - $libs.ktor.client.resources: exported
  - $libs.ktor.client.auth: exported
  - $libs.ktor.client.serialization: exported
  - $libs.ktor.client.websockets: exported
  - $libs.ktor.serialization.json: exported
  - $libs.ajalt.clikt: exported
  - $libs.ajalt.clikt.markdown: exported
  - $libs.kotlinx.schema.annotations: exported

dependencies@jvm:
  - $libs.slf4j.api: exported
  - $libs.kotlinx.coroutines.slf4j: exported
  - $libs.jspecify: exported
  - $libs.ktor.client.java: exported
  - $libs.ayza: exported
  - $libs.google.auto.annotations: compile-only

dependencies@native:
  - $libs.ktor.client.curl: exported

dependencies@web:
  - $libs.ktor.client.js: exported
  - $libs.kotlinx.browser: exported

test-dependencies:
  - $libs.kotlin.test: exported
  - $libs.kotlinx.coroutines.test: exported
  - $libs.ktor.client.mock: exported

test-dependencies@jvm:
  - bom: $libs.junit.bom
  - bom: $libs.testcontainers.bom
  - $libs.mockk: exported
  - $libs.mockk.bdd: exported
  - $libs.slf4j.simple: exported
  - $libs.testcontainers.junit5: exported
  - $libs.testcontainers.postgresql: exported

plugins:
  build-config:
    enabled: true