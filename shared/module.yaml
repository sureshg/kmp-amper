product:
  type: lib
  platforms: [ jvm, linuxArm64, linuxX64, macosX64, macosArm64, mingwX64 ]

settings:
  jvm:
    release: 21
    storeParameterNames: true
  kotlin:
    languageVersion: 2.2
    progressiveMode: true
    allWarningsAsErrors: true
    suppressWarnings: false
    verbose: false
    freeCompilerArgs:
      - -Xcontext-parameters
      - -Xexpect-actual-classes
      - -Xskip-prerelease-check
      - -Xwhen-guards
      - -Xmulti-dollar-interpolation
      - -Xnon-local-break-continue
      - -Xnested-type-aliases
      - -Xreport-all-warnings
      - -Xreturn-value-checker=check
    optIns:
      - kotlin.ExperimentalStdlibApi
      - kotlin.ExperimentalUnsignedTypes
      - kotlin.contracts.ExperimentalContracts
      - kotlin.io.encoding.ExperimentalEncodingApi
      - kotlin.time.ExperimentalTime
      - kotlinx.coroutines.ExperimentalCoroutinesApi
      - kotlinx.serialization.ExperimentalSerializationApi
      - kotlin.ExperimentalMultiplatform
      - kotlin.js.ExperimentalJsExport
      - kotlin.uuid.ExperimentalUuidApi
      - kotlin.concurrent.atomics.ExperimentalAtomicApi
    serialization:
      version: 1.8.1
      format: json
  ktor:
    version: 3.2.2

dependencies:
  - $libs.ktor.serialization.json

dependencies@native:
  - $libs.ktor.client.curl

test-dependencies@jvm:
  - $kotlin.test.junit5
