repositories:
  - id: mavenLocal
    url: mavenLocal
    resolve: false
    publish: true

settings:
  kotlin:
    version: 2.2.20-RC2
    languageVersion: 2.3
    apiVersion: 2.3
    progressiveMode: true
    allWarningsAsErrors: false
    suppressWarnings: false
    verbose: false
    freeCompilerArgs:
      - -Wextra
      - -Xcontext-parameters
      - -Xexpect-actual-classes
      - -Xskip-prerelease-check
      - -Xwhen-guards
      - -Xmulti-dollar-interpolation
      - -Xnon-local-break-continue
      - -Xnested-type-aliases
      - -Xreport-all-warnings
      - -Xreturn-value-checker=check
      - -Xcontext-sensitive-resolution
    # - -Xsuppress-warning=CAN_BE_VAL
    optIns:
      - kotlin.ExperimentalStdlibApi
      - kotlin.ExperimentalUnsignedTypes
      - kotlin.contracts.ExperimentalContracts
      - kotlin.io.encoding.ExperimentalEncodingApi
      - kotlin.time.ExperimentalTime
      - kotlinx.coroutines.ExperimentalCoroutinesApi
      - kotlinx.serialization.ExperimentalSerializationApi
      - kotlin.ExperimentalMultiplatform
      - kotlin.js.ExperimentalJsExport
      - kotlin.uuid.ExperimentalUuidApi
      - kotlin.concurrent.atomics.ExperimentalAtomicApi

    serialization:
      version: 1.9.0
      format: json

    ksp:
      version: 2.2.20-RC-2.0.2

  publishing:
    enabled: true
    group: dev.suresh.amper
    version: 1.0.0-SNAPSHOT

settings@jvm:
  kotlin:
    freeCompilerArgs:
      - -Xjvm-enable-preview
      - -Xno-param-assertions
      - -Xno-call-assertions
      - -Xno-receiver-assertions
      - -Xwhen-expressions=indy
      # - -Xjdk-release=21
      # - -Xadd-modules=ALL-MODULE-PATH
      # - -Xmodule-path=
      # - -Xjavac-arguments="--add-exports java.base/sun.nio.ch=ALL-UNNAMED"
      # - -Xexplicit-api=strict

    ksp:
      processors:
        - $libs.ksp.auto.service
      processorOptions:

settings@native:
  kotlin:
    debug: false
    optIns:
      - kotlinx.cinterop.ExperimentalForeignApi
      - kotlin.experimental.ExperimentalNativeApi

settings@linux:
  kotlin:
    linkerOptions: [
      "-Wl,--as-needed",
      "-Wl,-Bstatic",
      "-lz",
      "-Wl,-Bdynamic"
    ]

test-settings:
  kotlin:
    powerAssert:
      enabled: true
      functions:
        - kotlin.assert
        - kotlin.require
        - kotlin.test.assertTrue
        - kotlin.test.assertEquals
        - kotlin.test.assertNull
